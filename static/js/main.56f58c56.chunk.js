(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,a,t){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2zI3v",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2Qq2u"}},13:function(e,a,t){e.exports={overlay:"Modal_overlay___xUFW",modal:"Modal_modal__27sKI"}},24:function(e,a,t){e.exports={app:"App_app__3_bzA"}},26:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__2jANo"}},27:function(e,a,t){e.exports={button:"Button_button__1g2zQ"}},29:function(e,a,t){e.exports={loader:"Loader_loader__-oem_"}},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(1),o=t(23),c=t.n(o),i=t(14),s=t(9),l=t(4),u=t(5),m=t(7),h=t(6),d=t(24),g=t.n(d),p=t(25),b=t.n(p),j=function(e,a){return b.a.get("https://pixabay.com/api/"+"?q=".concat(e,"&page=").concat(a,"&key=").concat("14623087-4c7845c6612c3612d79802be1","&image_type=photo&orientation=horizontal&per_page=").concat(12,"\n\n"))},f=function(e){return e.map((function(e){return{imageId:e.id,linkSmallImage:e.webformatURL,linkLargeImage:e.largeImageURL}}))},_=t(10),y=t(8),O=t.n(y),v=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={queryString:""},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(_.a)({},n,r))},e.handleSubmit=function(a){var t=e.state.queryString,n=e.props.onSubmit;a.preventDefault(),t&&(n(t),e.setState({queryString:""}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state.queryString;return Object(n.jsx)("header",{className:O.a.searchbar,children:Object(n.jsxs)("form",{className:O.a.searchForm,onSubmit:this.handleSubmit,children:[Object(n.jsx)("button",{type:"submit",className:O.a.searchForm_button,children:Object(n.jsx)("span",{className:O.a.searchForm_button_label,children:"Search"})}),Object(n.jsx)("input",{className:O.a.searchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"queryString",value:e,onChange:this.handleChange})]})})}}]),t}(r.Component),I=t(26),x=t.n(I),S=t(12),k=t.n(S),C=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handlePassId=function(a){var t=a.target.id;(0,e.props.onOpenModal)(t)},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.images;return Object(n.jsx)(n.Fragment,{children:a.map((function(a){var t=a.imageId,r=a.linkSmallImage;return Object(n.jsx)("li",{className:k.a.imageGalleryItem,onClick:e.handlePassId,children:Object(n.jsx)("img",{id:t,src:r,alt:"Query result",className:k.a.imageGalleryItemImage})},t)}))})}}]),t}(r.Component),w=function(e){var a=e.images,t=e.onOpenModal;return Object(n.jsx)("ul",{className:x.a.imageGallery,children:Object(n.jsx)(C,{images:a,onOpenModal:t})})},M=t(27),F=t.n(M),N=function(e){var a=e.onClick;return Object(n.jsx)("button",{className:F.a.button,onClick:a,children:"Load more"})},G=t(28),L=t.n(G),q=t(29),E=t.n(q),A=function(){return Object(n.jsx)("div",{className:E.a.loader,children:Object(n.jsx)(L.a,{type:"ThreeDots",color:"grey",height:100,width:100,timeout:3e3})})},U=t(13),z=t.n(U),B=function(e,a){return e.find((function(e){return e.imageId===a}))},D=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleCloseModalByEscape=function(a){"Escape"===a.code&&e.props.onCloseModal()},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseModalByEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseModalByEscape)}},{key:"render",value:function(){var e=this.props,a=e.images,t=e.imgId,r=e.onCloseModal,o=B(a,+t).linkLargeImage;return Object(n.jsx)("div",{className:z.a.overlay,children:Object(n.jsx)("div",{className:z.a.modal,onClick:r,children:Object(n.jsx)("img",{src:o,alt:""})})})}}]),t}(r.Component),T={page:1,images:[]},J=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state=Object(s.a)(Object(s.a)({},T),{},{query:"",isLoading:!1,imgId:""}),e.getImages=function(a,t){e.setState({isLoading:!0}),j(a,t).then((function(a){var t=a.data;return e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(f(t.hits)))}}))})).catch((function(e){console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e.handleSubmit=function(a){e.setState(Object(s.a)(Object(s.a)({},T),{},{query:a}))},e.handleClick=function(){var a=e.state.page;a+=1,e.setState({page:a})},e.handleOpenModal=function(a){e.setState({imgId:a})},e.handleCloseModal=function(){e.setState({imgId:""})},e}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.query,r=t.page;a.query===n&&a.page===r||this.getImages(n,r),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,r=e.imgId;return Object(n.jsxs)("div",{className:g.a.app,children:[Object(n.jsx)(v,{onSubmit:this.handleSubmit}),a.length>0&&Object(n.jsx)(w,{images:a,onOpenModal:this.handleOpenModal}),t&&Object(n.jsx)(A,{}),a.length>0&&!t&&Object(n.jsx)(N,{onClick:this.handleClick}),r&&Object(n.jsx)(D,{images:a,imgId:r,onCloseModal:this.handleCloseModal})]})}}]),t}(r.Component);t(73);c.a.render(Object(n.jsx)(J,{}),document.getElementById("root"))},8:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__35_tT",searchForm:"Searchbar_searchForm__zymcw",searchForm_button:"Searchbar_searchForm_button__3UtT1",searchForm_button_label:"Searchbar_searchForm_button_label__JNjP2",searchForm_input:"Searchbar_searchForm_input__1h2o5"}}},[[74,1,2]]]);
//# sourceMappingURL=main.56f58c56.chunk.js.map