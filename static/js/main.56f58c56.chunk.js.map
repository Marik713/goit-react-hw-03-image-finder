{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","services/imageApi.js","helpers/mapper.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","helpers/findImg.js","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","getImages","query","page","axios","get","mapper","images","map","imageId","id","linkSmallImage","webformatURL","linkLargeImage","largeImageURL","Searchbar","state","queryString","handleChange","target","name","value","setState","handleSubmit","e","onSubmit","props","preventDefault","this","className","styles","searchbar","searchForm","type","searchForm_button","searchForm_button_label","searchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","handlePassId","onOpenModal","imageGalleryItem","onClick","src","alt","imageGalleryItemImage","ImageGallery","imageGallery","Button","button","Loader","loader","color","height","width","timeout","findImg","find","Modal","handleCloseModalByEscape","event","code","onCloseModal","window","addEventListener","removeEventListener","imgId","overlay","modal","INITIAL_STATE","App","isLoading","imageApi","then","data","prevState","hits","catch","error","console","log","finally","handleClick","handleOpenModal","handleCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","app","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.56f58c56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2zI3v\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2Qq2u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay___xUFW\",\"modal\":\"Modal_modal__27sKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3_bzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2jANo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1g2zQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__-oem_\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst KEY = \"14623087-4c7845c6612c3612d79802be1\";\r\nconst IMAGES_PER_PAGE = 12;\r\n\r\nexport const getImages = (query, page) =>\r\n  axios.get(\r\n    BASE_URL +\r\n      `?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${IMAGES_PER_PAGE}\r\n\r\n`\r\n  );","const mapper = images => {\r\n    return images.map(\r\n      ({\r\n        id: imageId,\r\n        webformatURL: linkSmallImage,\r\n        largeImageURL: linkLargeImage\r\n      }) => ({\r\n        imageId,\r\n        linkSmallImage,\r\n        linkLargeImage\r\n      })\r\n    );\r\n  };\r\n  \r\n  export default mapper;\r\n  ","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    queryString: \"\",\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    const { queryString } = this.state;\r\n    const { onSubmit } = this.props;\r\n    e.preventDefault();\r\n    if (queryString) {\r\n      onSubmit(queryString);\r\n      this.setState({\r\n        queryString: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { queryString } = this.state;\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.searchForm_button}>\r\n            <span className={styles.searchForm_button_label}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.searchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"queryString\"\r\n            value={queryString}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  handlePassId = ({ target: { id } }) => {\r\n    const { onOpenModal } = this.props;\r\n    onOpenModal(id);\r\n  };\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n    return (\r\n      <>\r\n        {images.map(({ imageId, linkSmallImage }) => (\r\n          <li\r\n            key={imageId}\r\n            className={styles.imageGalleryItem}\r\n            onClick={this.handlePassId}\r\n          >\r\n            <img\r\n              id={imageId}\r\n              src={linkSmallImage}\r\n              alt=\"Query result\"\r\n              className={styles.imageGalleryItemImage}\r\n            />\r\n          </li>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      imageId: PropTypes.number.isRequired,\r\n      linkSmallImage: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <ul className={styles.imageGallery}>\r\n    <ImageGalleryItem images={images} onOpenModal={onOpenModal} />\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button className={styles.button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nconst Loader = () => (\r\n  <div className={styles.loader}>\r\n    <LoaderSpinner\r\n      type=\"ThreeDots\"\r\n      color=\"grey\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","const findImg = (images, id) => {\r\n    return images.find(({ imageId }) => imageId === id);\r\n  };\r\n  export default findImg;\r\n  ","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport findImg from \"../../helpers/findImg\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleCloseModalByEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleCloseModalByEscape);\r\n  }\r\n\r\n  handleCloseModalByEscape = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { images, imgId, onCloseModal } = this.props;\r\n    const { linkLargeImage } = findImg(images, +imgId);\r\n    return (\r\n      <div className={styles.overlay}>\r\n        <div className={styles.modal} onClick={onCloseModal}>\r\n          <img src={linkLargeImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      imageId: PropTypes.number.isRequired,\r\n      linkSmallImage: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  imgId: PropTypes.string.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\nimport styles from \"./App.module.css\";\nimport * as imageApi from \"../../services/imageApi\";\nimport mapper from \"../../helpers/mapper\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nconst INITIAL_STATE = {\n  page: 1,\n  images: [],\n};\n\nexport default class App extends Component {\n  state = {\n    ...INITIAL_STATE,\n    query: \"\",\n    isLoading: false,\n    imgId: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n\n    if (prevState.query !== query || prevState.page !== page) {\n      this.getImages(query, page);\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  getImages = (query, page) => {\n    this.setState({ isLoading: true });\n\n    imageApi\n      .getImages(query, page)\n      .then(({ data }) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...mapper(data.hits)],\n        }))\n      )\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSubmit = (queryString) => {\n    this.setState({ ...INITIAL_STATE, query: queryString });\n  };\n\n  handleClick = () => {\n    let { page } = this.state;\n    page += 1;\n    this.setState({ page });\n  };\n\n  handleOpenModal = (id) => {\n    this.setState({ imgId: id });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ imgId: \"\" });\n  };\n\n  render() {\n    const { images, isLoading, imgId } = this.state;\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {images.length > 0 && (\n          <ImageGallery images={images} onOpenModal={this.handleOpenModal} />\n        )}\n        {isLoading && <Loader />}\n        {images.length > 0 && !isLoading && (\n          <Button onClick={this.handleClick} />\n        )}\n\n        {imgId && (\n          <Modal\n            images={images}\n            imgId={imgId}\n            onCloseModal={this.handleCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './base.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__35_tT\",\"searchForm\":\"Searchbar_searchForm__zymcw\",\"searchForm_button\":\"Searchbar_searchForm_button__3UtT1\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__JNjP2\",\"searchForm_input\":\"Searchbar_searchForm_input__1h2o5\"};"],"sourceRoot":""}